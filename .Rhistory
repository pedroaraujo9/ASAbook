head(desmame)
desmame = desmame[,-1]
names(desmame) = c("tempo", "cens", str_c("V", 1:11))
head(desmame)
save(desmame, file='data/desmame.rda')
dim(desmame)
?diamonds
#dado de desmame
desmame = fread("inst/asa_data/desmame.txt") %>% as.data.frame()
names(desmame) = c("id", "tempo", "cens", str_c("V", 1:11))
head(desmame)
save(desmame, file='data/desmame.rda')
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
library(ASAbook)
ASAbook::leucemia %>% head()
ASAbook::hepatite %>% head()
ASAbook::leucemia_cat %>% head()
ASAbook::desmame %>% head()
data("desmame")
?desmame
#dados camun
camun = fread('inst/asa_data/camun.txt') %>% as.data.frame()
library(data.table)
library(tidyverse)
library(roxygen2)
#dados camun
camun = fread('inst/asa_data/camun.txt') %>% as.data.frame()
head(camun)
names(camum) %<>% str_to_lower()
library(magrittr)
names(camum) %<>% str_to_lower()
#dados camun
camun = fread('inst/asa_data/camun.txt') %>% as.data.frame()
names(camum) %<>% str_to_lower()
names(camum) = str_to_lower(names(camun))
#dados camun
camun = fread('inst/asa_data/camun.txt') %>% as.data.frame()
names(camum) = str_to_lower(names(camun))
names(camun) = str_to_lower(names(camun))
head(camun)
save(camun, file="data/camun.rda")
dim(camun)
camun$grupo %>% unique()
#dados camun
camun = fread('inst/asa_data/camun.txt') %>% as.data.frame() %>%
mutate(grupo = as.factor(grupo))
camun %<>%
mutate(grupo = as.factor(grupo))
head(camun)
head(camun)
glimpse(camun)
save(camun, file="data/camun.rda")
camun %>% as_tibble()
save(camun, file="data/camun.rda")
head(camun)
hist(camun$peso)
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
library(ASAbook)
ASAbook::leucemia %>% head()
ASAbook::hepatite %>% head()
ASAbook::leucemia_cat %>% head()
ASAbook::desmame %>% head()
ASAbook::camun %>% head()
data("camun")
?camun
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
library(ASAbook)
ASAbook::leucemia %>% head()
ASAbook::hepatite %>% head()
ASAbook::leucemia_cat %>% head()
ASAbook::desmame %>% head()
ASAbook::camun %>% head()
data("leucemia")
data("hepatite")
data("leucemia_cat")
data("desmame")
data("camun")
?leucemia
?hepatite
?leucemia_cat
?desmame
?camun
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
#dados mangueira
mang = fread("inst/asa_data/mang.txt")
#dados mangueira
mang = fread("inst/asa_data/mang.txt") %>% as.data.frame()
head(mang)
save(mang, "data/mang.rda")
save(mang, file="data/mang.rda")
head(mang)
dim(mang)
devtools::install()
head(mang)
devtools::document()
devtools::load_all()
devtools::build()
library(ASAbook)
ASAbook::mang %>% head()
data("mang")
?mang
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
#dados laringe
laringe = fread("isnt/asa_data/laringe.txt") %>% as.data.frame()
#dados laringe
laringe = fread("inst/asa_data/laringe.txt") %>% as.data.frame()
head(laringe)
save(laringe, "data/laringe.rda")
save(laringe, file="data/laringe.rda")
head(laringe)
laringe$estagio %>%
class()
laringe %<>% mutate(estagio = as.factor(estagio))
save(laringe, file="data/laringe.rda")
dim(laringe)
glimpse(laringe)
save(laringe, file="data/laringe.rda")
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
library(ASAbook)
ASAbook::leucemia %>% head()
ASAbook::hepatite %>% head()
ASAbook::leucemia_cat %>% head()
ASAbook::desmame %>% head()
ASAbook::camun %>% head()
ASAbook::mang %>% head()
ASAbook::laringe %>% head()
data("laringe")
?laringe
#dados hormonio de crescimento
hg2 = fread("inst/asa_data/hg2.txt") %>% as.data.frame()
head(hg2)
save(hg2, file="data/hg2.rda")
dim(hg2)
head(hg2)
hg2 %<>% mutate(raca = factor(raca))
save(hg2, file="data/hg2.rda")
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
ASAbook::leucemia %>% head()
ASAbook::hepatite %>% head()
ASAbook::leucemia_cat %>% head()
ASAbook::desmame %>% head()
ASAbook::camun %>% head()
ASAbook::mang %>% head()
ASAbook::laringe %>% head()
ASAbook::hg2 %>% head()
data(hg2)
?hg2
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
library(ASAbook)
ASAbook::leucemia %>% head()
ASAbook::hepatite %>% head()
ASAbook::leucemia_cat %>% head()
ASAbook::desmame %>% head()
ASAbook::camun %>% head()
ASAbook::mang %>% head()
ASAbook::laringe %>% head()
ASAbook::hg2 %>% head()
data("leucemia")
data("hepatite")
data("leucemia_cat")
data("desmame")
data("camun")
data("mang")
data("laringe")
data("hg2")
?leucemia
?hepatite
?hg2
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
library(ASAbook)
data("hg2")
?hg2
#dados raca
cattle = fread("inst/asa_data/cattle.txt") %>% as.data.frame()
head(cattle)
save(cattle, file = "data/cattle.rda")
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
ASAbook::cattle %>% head()
data("cattle")
?cattle
dim(cattle)
dim(hg2)
devtools::install()
devtools::document()
devtools::build()
devtools::load_all()
library(ASAbook)
data("cattle")
?cattle
breast = fread("inst/asa_data/breast.txt") %>% as.data.frame()
breast = fread("inst/asa_data/breast.txt") %>% as.data.frame()
head(breast)
View(breast)
breast = fread("inst/asa_data/breast.txt") %>% as.data.frame()
head(breast)
save(breast, file='data/breast.rda')
dim(breast)
breast$ther %>% unique()
View(ther)
View(breast)
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
ASAbook::breast
ASAbook::breast %>% head()
data("breast")
?breast
#dado ovario
ovario = fread("inst/asa_data/ovario.txt")
head(ovario)
#dado ovario
ovario = fread("inst/asa_data/ovario.txt") %>% as.data.frame()
names(ovario)= c('pac', 'tempo', 'cens', 'trat', 'idade', 'res', 'status')
head(ovario)
ovario %<>% mutate(trat = factor(trat), factor(status))
save(ovario, file="data/ovario.rda")
dim(ovario)
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
library(ASAbook)
#dado ovario
ovario = fread("inst/asa_data/ovario.txt") %>% as.data.frame()
names(ovario)= c('pac', 'tempo', 'cens', 'trat', 'idade', 'res', 'status')
head(ovario)
ovario %<>% mutate(trat = factor(trat), factor(status), res = factor(res))
save(ovario, file="data/ovario.rda")
ASAbook::leucemia %>% head()
ASAbook::hepatite %>% head()
ASAbook::leucemia_cat %>% head()
ASAbook::desmame %>% head()
ASAbook::camun %>% head()
ASAbook::mang %>% head()
ASAbook::hg2 %>% head()
ASAbook::cattle %>% head()
ASAbook::laringe %>% head()
ASAbook::breast %>% head()
library(ASAbook)
ASAbook::ovario %>% head()
#dado ovario
ovario = fread("inst/asa_data/ovario.txt") %>% as.data.frame()
names(ovario)= c('pac', 'tempo', 'cens', 'trat', 'idade', 'res', 'status')
head(ovario)
ovario %<>% mutate(trat = factor(trat), status = factor(status), res = factor(res))
save(ovario, file="data/ovario.rda")
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
library(ASAbook)
ASAbook::leucemia %>% head()
ASAbook::hepatite %>% head()
ASAbook::leucemia_cat %>% head()
ASAbook::camun %>% head()
ASAbook::desmame %>% head()
ASAbook::mang %>% head()
ASAbook::hg2 %>% head()
ASAbook::laringe %>% head()
ASAbook::cattle %>% head()
ASAbook::breast %>% head()
ASAbook::ovario %>% head()
data("leucemia")
data("ovario")
?ovario
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
ASAbook::ovario %>% head()
?ovario
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
devtools::install_github("pedroaraujo9/ASAbook")
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
library(ASAbook)
ASAbook::leucemia %>% head()
ASAbook::hepatite %>% head()
library(magrittr)
ASAbook::leucemia %>% head()
ASAbook::hepatite %>% head()
ASAbook::leucemia_cat %>% head()
ASAbook::desmame %>% head()
ASAbook::camun %>% head()
ASAbook::mang %>% head()
ASAbook::laringe %>% head()
ASAbook::hg2 %>% head()
ASAbook::cattle %>% head()
ASAbook::breast %>% head()
ASAbook::ovario %>% head()
data("leucemia")
data("hepatite")
data("leucemia_cat")
data("desmame")
data("camun")
data("mang")
data("hg2")
data("cattle")
data("breast")
data("laringe")
data("ovario")
?leucemia
?hepatite
?leucemia_cat
?desmame
?camun
?mang
?laringe
?hg2
?cattle
?breast
?ovario
library(ASAbook)
data("leucemia")
library(survival)
nafit = survfit(coxph(Surv(leucemia$tempos, leucemia$idade) ~ 1, method = "breslow"))
glimp
library(dplyr)
glimpse(leucemia)
nafit = coxph(Surv(tempos, cens) ~ 1, data = leucemia, method = "breslow")
nafit = coxph(Surv(tempos, cens) ~ 1, data = leucemia, method = "breslow") %>%
survfit()
summary(nafit)
racum = -log(nafit$surv)
racum
nafit = function(formula, data, ...) {
coxph(formula, data = data, method = "breslow") %>%
survfit()
}
nafit(Surv(tempos, cens) ~ 1, data = leucemia)
?coxph
nafit = function(formula, ...) {
coxph(formula, data = data, method = "breslow") %>%
survfit()
}
nafit(Surv(tempos, cens) ~ 1, data = leucemia)
nafit = function(formula, ...) {
coxph(formula, ..., method = "breslow") %>%
survfit()
}
nafit(Surv(tempos, cens) ~ 1, data = leucemia)
nafit = function(formula, ...) {
coxph(formula, method = "breslow", ...) %>%
survfit()
}
nafit(Surv(tempos, cens) ~ 1, data = leucemia)
nafit = function(formula, ...) {
coxph(formula, method = "breslow", ...)
}
nafit(Surv(tempos, cens) ~ 1, data = leucemia)
nafit = function(formula, ...) {
fit = coxph(formula, method = "breslow", ...)
return(survfit(fit))
}
nafit(Surv(tempos, cens) ~ 1, data = leucemia)
nafit = function(formula, ...) {
fit = coxph(formula, method = "breslow", ...)
fit = survfit(fit)
return(fit)
}
nafit(Surv(tempos, cens) ~ 1, data = leucemia)
nafit = function(formula, data, ...) {
fit = coxph(formula, data, method = "breslow", ...)
fit = survfit(fit)
return(fit)
}
nafit(Surv(tempos, cens) ~ 1, data = leucemia)
nafit = function(formula, data) {
fit = coxph(formula, data, method = "breslow")
fit = survfit(fit)
return(fit)
}
nafit(Surv(tempos, cens) ~ 1, data = leucemia)
?coxph
nafit = function(formula, df) {
fit = coxph(formula, data = df, method = "breslow")
return(fit)
}
nafit(Surv(tempos, cens) ~ 1, data = leucemia)
nafit(Surv(tempos, cens) ~ 1, df = leucemia)
nafit = function(formula, df) {
coxph(formula, data = df, method = "breslow") %>%
survfit()
}
nafit(Surv(tempos, cens) ~ 1, df = leucemia)
nafit = function(formula, df) {
survfit(coxph(formula, data = df, method = "breslow"))
}
nafit(Surv(tempos, cens) ~ 1, df = leucemia)
nafit = function(formula, df, ...) {
survfit(coxph(formula, data = df, method = "breslow"), ...)
}
nafit(Surv(tempos, cens) ~ 1, df = leucemia)
nafit = function(formula, df, ...) {
fit = coxph(formula, data = df, method = "breslow")
}
nafit(Surv(tempos, cens) ~ 1, df = leucemia)
nafit = function(formula, df, ...) {
fit = coxph(formula, data = df, method = "breslow")
sur = survfit(fit)
}
nafit(Surv(tempos, cens) ~ 1, df = leucemia)
survfit
glimpse(leucemia)
fit = survfit(Surv(tempos, cens) ~ 1)
fit = survfit(Surv(tempos, cens) ~ 1, data = leucemia)
fit
predict(fit)
fit$time
fit$surv
fit$surv[fit$surv == 0.5]
fit
approx(x=fit$surv, y = fit$time, xout = 0.5)
pt = function(fit, t=0.5) {
return(approx(x=fit$surv, y=fit$time, xout = t)$y)
}
pt = Vectorize(function(fit, t=0.5) {
return(approx(x=fit$surv, y=fit$time, xout = t)$y)
})
pt = Vectorize(function(fit, t=0.5) {
return(approx(x=fit$surv, y=fit$time, xout = t)$y)
}, vectorize.args = "t")
pt(fit, t = c(0.3, 0.5))
pt(fit, t = c(0.6, 0.5))
class(fit)
devtools::document()
devtools::install()
devtools::load_all()
devtools::build()
ASAbook::pt(fit)
fi
fit
pt(fit)
pt
library(ASAbook)
pt
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
library(ASAbook)
pt
devtools::document()
pt(fit, p = 0.4)
pt(fit, p = 0.7)
?pt
devtools::document()
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
library(ASAbook)
pt(fit, p = 0.5)
pt(fit, p = 0.6)
library(ASAbook)
pt(fit)
pt(fit, p = 0.4)
pt(fit, t = 0.7)
pt(fit, t = 0.5)
pt
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
library(ASAbook)
pt
data('leucemia')
library(survival)
fitl = survfit(Surv(tempos, cens) ~ 1, data = leucemia)
tp(fitl, p = c(0.5, 0.6))
pt(fitl, p = c(0.5, 0.6))
devtools::install()
devtools::document()
devtools::load_all()
devtools::build()
pt
